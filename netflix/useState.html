<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0"
		/>
		<title>Document</title>
	</head>
	<body>
		<div id="root"></div>
	</body>
	<script src="https://unpkg.com/react@17.0.2/umd/react.production.min.js"></script>
	<script src="https://unpkg.com/react-dom@17.0.2/umd/react-dom.production.min.js"></script>
	<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
	<script type="text/babel">
		function App() {
			const [counter, setCounter] = React.useState(0);
			//리액트JS에서 데이터를 저장시켜 자동으로 리렌더링을 일으킬 수 있는 방법
			//const data = React.useState();를 console.log 시키면
			//[undefined, f ] -> undefined와 함수가 적힌 배열이 나타남
			//undefined는 data이고 f는 data를 바꿀 때 사용하는 함수
			//React.useState() 함수는 초기값을 설정할 수 있음
			//즉, undefined는 초기값이고 두 번째 요소인 f는 그 값을 바꾸는 함수

			//useState()가 countUp() 함수를 대신하고 있음.

			//보통 배열을 선언할 때 const box = ['pen', 'speaker', 'books'] 이렇게 하지만
			//이걸 꺼내서 쓰고 싶을 때는 구조 분해 할당을 쓴다. 방법은 그냥 뒤집기만 하면 되는데,
			//const [a, b, c] = box;
			//a를 찍으면 'pen' 이 나오고 b를 찍으면 'speaker'가 나오고 c를 찍으면 'books'가 나온다.
			//이때의 a,b,c는 일회성으로 한 번 쓰고 사라지는 게 아니라 구조 분해 할당을 통해 변수로 선언한 것이기 때문에 a,b,c는 여러 번 사용할 수 있게 된다.
			//(이때 주의해야 할 점은 구조 분해 할당을 할 때 ''따옴표를 사용하지 않는 것이다.
			//구조 분해 할당은 변수 선언이기 때문에 const 'x' = 1 변수 선언을 이렇게 하지 않는 것처럼 따옴표를 쓰지 않는다.)
			//구조 분해 할당 구문은 배열이나 객체의 속성을 해체하여 그 값을 개별 **변수**에 담을 수 있게 하는 JavaScript 표현식입니다.[MDN]
			const onClick = () => {
				// How to set state 2.
				setCounter((current) => current + 1); //parameter로 함수를 전달. 현재 값 바탕으로 state를 변경하고 싶다면 current를 가져와서 return으로 넘겨줘라.
				// How to set state 1. -> setCounter(counter + 1); //counter를 증가시키고, 리렌더링을 실행한다. (바뀐 부분만) (컴포넌트가 재생성)
				// current state와 관련 없는 값을 new state로 하고싶으면 1번
				// current state에 tiny 변화를 주어 new state 주고싶으면 2번
				// ++counter 는 안됨! setCounter로 counter 냅두고 +1 변화를 주는거지 재할당 해줄 수는 없음.
				// 근데 객체 안의 값은 변경 가능하다 하지 않았나? 뭐가 다르지?
			};
			return (
				<div>
					<h3>Total clicks: {counter}</h3>
					<button onClick={onClick}>Click me</button>
				</div>
			);
		}

		const root = document.getElementById('root');
		ReactDOM.render(<App />, root);
	</script>
</html>
